"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([[837],{2711:function(n,e,a){a.d(e,{Z:function(){return r}});var s=a(1413),c="index_number__Kwgx1",i=a(2791),t=a(184),o=function(n){var e=n.number,a=n.style,i=void 0===a?{}:a;return(0,t.jsx)("span",{className:c,style:(0,s.Z)({},i),children:e<100?e:"99+"})},r=(0,i.memo)(o)},8837:function(n,e,a){a.r(e),a.d(e,{default:function(){return O}});var s=a(2791),c=a(6871),i="index_contentWrap__9g0Lr",t=a(8687),o="index_sideBarWrap__veWbj",r="index_topBar__4CdOT",d="index_bar__72zmE",l="index_active__Oqxfn",u="index_contacts__gQsWs",m="index_personIcon__Bt1eq",_="index_contactsText__4BrXO",v="index_title__HZDJl",x="index_list__ungZO",p="index_contactsItem__-x37v",f="index_item__BK1P2",h="index_empty__vWykB",j=a(2711),N=a(2718),b=a(7411),g=a(8406),y=a(1091),Z=a(7196),C=a(184),k=(0,s.memo)((0,t.$j)((function(n){var e=n.app,a=n.contact;return{appUserInfo:e.appUserInfo,chatMap:e.chatMap,applyNum:a.applyInfo.length,conversationData:a.conversationList}}),(function(n){return{setConversationList:function(e){return n({type:"contact/setConversationList",payload:e})},setUnReadNumber:function(e){return n({type:"app/setUnReadNumber",payload:e})}}}))((function(n){var e=n.applyNum,a=n.chatMap,i=n.conversationData,t=n.appUserInfo,k=n.setConversationList,I=n.setUnReadNumber,O=(0,c.s0)(),U=(0,c.UO)().userId,B=function(n){var e,s;return(null===(e=a[Z.zi.single])||void 0===e||null===(s=e.get(n))||void 0===s?void 0:s.unReadNum)||0};return(0,s.useEffect)((function(){i.length>0||b.Z.conn.getConversationlist().then((function(n){var e=n.data.channel_infos,a=[];e&&e.forEach((function(n){var e=n.channel_id;if(e.indexOf("@conference.easemob.com")<=-1){var s=e.split("_")[1],c=s.substring(0,s.indexOf("@easemob.com"));a.push(c),n.unread_num>0&&I({chatType:Z.zi.single,fromId:c,number:n.unread_num})}})),a.length>0&&(0,g.mZ)(a),k(a)}))}),[]),(0,C.jsxs)("div",{className:o,children:[(0,C.jsx)("div",{className:r,children:(0,C.jsxs)("div",{className:U?"".concat(d):"".concat(d," ").concat(l),onClick:function(){O("/main/contacts/index")},children:[(0,C.jsxs)("div",{className:"".concat(u),children:[(0,C.jsx)("span",{className:m,children:(0,C.jsx)(y.Z,{name:"person_2",size:"26px"})}),(0,C.jsx)("span",{className:_,children:"\u6211\u7684\u597d\u53cb"})]}),e>0&&(0,C.jsx)(j.Z,{number:e})]})}),(0,C.jsx)("div",{className:v,children:"\u6211\u7684\u6d88\u606f"}),(0,C.jsx)("div",{className:x,children:(null===i||void 0===i?void 0:i.length)>0?i.map((function(n,e){var a,s,c;return(0,C.jsxs)("div",{className:"".concat(d," ").concat(p," ").concat(0!==e?f:""," ").concat(U===n?l:""),onClick:function(){O("/main/contacts/chat/".concat(n))},children:[(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(N.Z,{size:36,src:null===(a=t[n])||void 0===a?void 0:a.avatarurl,online:(null===(s=t[n])||void 0===s?void 0:s.online)||0}),(0,C.jsx)("span",{className:_,children:(null===(c=t[n])||void 0===c?void 0:c.nickname)||n})]}),B(n)>0&&(0,C.jsx)(j.Z,{number:B(n)})]},e)})):(0,C.jsx)("div",{className:h,children:"\u60a8\u8fd8\u6ca1\u6709\u4f1a\u8bdd"})})]})}))),I=function(){return(0,C.jsxs)("div",{className:i,children:[(0,C.jsx)(k,{}),(0,C.jsx)(c.j3,{})]})},O=(0,s.memo)(I)}}]);
//# sourceMappingURL=837.7a944e56.chunk.js.map